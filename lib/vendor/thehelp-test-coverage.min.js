!function(e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define("falafel",e):"undefined"!=typeof window?window.falafel=e():"undefined"!=typeof global?global.falafel=e():"undefined"!=typeof self&&(self.falafel=e())}(function(){return function e(t,n,r){function a(o,l){if(!n[o]){if(!t[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return a(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(e,t,n){!function(e,t){t(n)}(this,function(e){function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function n(e,t){return dn.slice(e,t)}function r(e){return"0123456789".indexOf(e)>=0}function a(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function i(e){return"01234567".indexOf(e)>=0}function o(e){return" "===e||"	"===e||""===e||"\f"===e||" "===e||e.charCodeAt(0)>=5760&&" ᠎             　﻿".indexOf(e)>=0}function l(e){return"\n"===e||"\r"===e||"\u2028"===e||"\u2029"===e}function s(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e.charCodeAt(0)>=128&&fn.NonAsciiIdentifierStart.test(e)}function c(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e>="0"&&"9">=e||e.charCodeAt(0)>=128&&fn.NonAsciiIdentifierPart.test(e)}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0}return!1}function p(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0}return!1}function f(e){return"eval"===e||"arguments"===e}function d(e){var t=!1;switch(e.length){case 2:t="if"===e||"in"===e||"do"===e;break;case 3:t="var"===e||"for"===e||"new"===e||"try"===e;break;case 4:t="this"===e||"else"===e||"case"===e||"void"===e||"with"===e;break;case 5:t="while"===e||"break"===e||"catch"===e||"throw"===e;break;case 6:t="return"===e||"typeof"===e||"delete"===e||"switch"===e;break;case 7:t="default"===e||"finally"===e;break;case 8:t="function"===e||"continue"===e||"debugger"===e;break;case 10:t="instanceof"===e}if(t)return!0;switch(e){case"const":return!0;case"yield":case"let":return!0}return mn&&p(e)?!0:u(e)}function m(){var e,t,n;for(t=!1,n=!1;hn>gn;)if(e=dn[gn],n)e=dn[gn++],l(e)&&(n=!1,"\r"===e&&"\n"===dn[gn]&&++gn,++yn,bn=gn);else if(t)l(e)?("\r"===e&&"\n"===dn[gn+1]&&++gn,++yn,++gn,bn=gn,gn>=hn&&I({},pn.UnexpectedToken,"ILLEGAL")):(e=dn[gn++],gn>=hn&&I({},pn.UnexpectedToken,"ILLEGAL"),"*"===e&&(e=dn[gn],"/"===e&&(++gn,t=!1)));else if("/"===e)if(e=dn[gn+1],"/"===e)gn+=2,n=!0;else{if("*"!==e)break;gn+=2,t=!0,gn>=hn&&I({},pn.UnexpectedToken,"ILLEGAL")}else if(o(e))++gn;else{if(!l(e))break;++gn,"\r"===e&&"\n"===dn[gn]&&++gn,++yn,bn=gn}}function g(e){var t,n,r,i=0;for(n="u"===e?4:2,t=0;n>t;++t){if(!(hn>gn&&a(dn[gn])))return"";r=dn[gn++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function y(){var e,t,n,r;if(e=dn[gn],s(e)){if(t=gn,"\\"===e){if(++gn,"u"!==dn[gn])return;if(++gn,r=gn,e=g("u")){if("\\"===e||!s(e))return;n=e}else gn=r,n="u"}else n=dn[gn++];for(;hn>gn&&(e=dn[gn],c(e));)if("\\"===e){if(++gn,"u"!==dn[gn])return;if(++gn,r=gn,e=g("u")){if("\\"===e||!c(e))return;n+=e}else gn=r,n+="u"}else n+=dn[gn++];return 1===n.length?{type:ln.Identifier,value:n,lineNumber:yn,lineStart:bn,range:[t,gn]}:d(n)?{type:ln.Keyword,value:n,lineNumber:yn,lineStart:bn,range:[t,gn]}:"null"===n?{type:ln.NullLiteral,value:n,lineNumber:yn,lineStart:bn,range:[t,gn]}:"true"===n||"false"===n?{type:ln.BooleanLiteral,value:n,lineNumber:yn,lineStart:bn,range:[t,gn]}:{type:ln.Identifier,value:n,lineNumber:yn,lineStart:bn,range:[t,gn]}}}function b(){var e,t,n,a=gn,i=dn[gn];return";"===i||"{"===i||"}"===i?(++gn,{type:ln.Punctuator,value:i,lineNumber:yn,lineStart:bn,range:[a,gn]}):","===i||"("===i||")"===i?(++gn,{type:ln.Punctuator,value:i,lineNumber:yn,lineStart:bn,range:[a,gn]}):(e=dn[gn+1],"."!==i||r(e)?(t=dn[gn+2],n=dn[gn+3],">"===i&&">"===e&&">"===t&&"="===n?(gn+=4,{type:ln.Punctuator,value:">>>=",lineNumber:yn,lineStart:bn,range:[a,gn]}):"="===i&&"="===e&&"="===t?(gn+=3,{type:ln.Punctuator,value:"===",lineNumber:yn,lineStart:bn,range:[a,gn]}):"!"===i&&"="===e&&"="===t?(gn+=3,{type:ln.Punctuator,value:"!==",lineNumber:yn,lineStart:bn,range:[a,gn]}):">"===i&&">"===e&&">"===t?(gn+=3,{type:ln.Punctuator,value:">>>",lineNumber:yn,lineStart:bn,range:[a,gn]}):"<"===i&&"<"===e&&"="===t?(gn+=3,{type:ln.Punctuator,value:"<<=",lineNumber:yn,lineStart:bn,range:[a,gn]}):">"===i&&">"===e&&"="===t?(gn+=3,{type:ln.Punctuator,value:">>=",lineNumber:yn,lineStart:bn,range:[a,gn]}):"="===e&&"<>=!+-*%&|^/".indexOf(i)>=0?(gn+=2,{type:ln.Punctuator,value:i+e,lineNumber:yn,lineStart:bn,range:[a,gn]}):i===e&&"+-<>&|".indexOf(i)>=0&&"+-<>&|".indexOf(e)>=0?(gn+=2,{type:ln.Punctuator,value:i+e,lineNumber:yn,lineStart:bn,range:[a,gn]}):"[]<>+-*%&|^!~?:=/".indexOf(i)>=0?{type:ln.Punctuator,value:dn[gn++],lineNumber:yn,lineStart:bn,range:[a,gn]}:void 0):{type:ln.Punctuator,value:dn[gn++],lineNumber:yn,lineStart:bn,range:[a,gn]})}function h(){var e,n,o;if(o=dn[gn],t(r(o)||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),n=gn,e="","."!==o){if(e=dn[gn++],o=dn[gn],"0"===e){if("x"===o||"X"===o){for(e+=dn[gn++];hn>gn&&(o=dn[gn],a(o));)e+=dn[gn++];return e.length<=2&&I({},pn.UnexpectedToken,"ILLEGAL"),hn>gn&&(o=dn[gn],s(o)&&I({},pn.UnexpectedToken,"ILLEGAL")),{type:ln.NumericLiteral,value:parseInt(e,16),lineNumber:yn,lineStart:bn,range:[n,gn]}}if(i(o)){for(e+=dn[gn++];hn>gn&&(o=dn[gn],i(o));)e+=dn[gn++];return hn>gn&&(o=dn[gn],(s(o)||r(o))&&I({},pn.UnexpectedToken,"ILLEGAL")),{type:ln.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:yn,lineStart:bn,range:[n,gn]}}r(o)&&I({},pn.UnexpectedToken,"ILLEGAL")}for(;hn>gn&&(o=dn[gn],r(o));)e+=dn[gn++]}if("."===o)for(e+=dn[gn++];hn>gn&&(o=dn[gn],r(o));)e+=dn[gn++];if("e"===o||"E"===o)if(e+=dn[gn++],o=dn[gn],("+"===o||"-"===o)&&(e+=dn[gn++]),o=dn[gn],r(o))for(e+=dn[gn++];hn>gn&&(o=dn[gn],r(o));)e+=dn[gn++];else o="character "+o,gn>=hn&&(o="<end>"),I({},pn.UnexpectedToken,"ILLEGAL");return hn>gn&&(o=dn[gn],s(o)&&I({},pn.UnexpectedToken,"ILLEGAL")),{type:ln.NumericLiteral,value:parseFloat(e),lineNumber:yn,lineStart:bn,range:[n,gn]}}function v(){var e,n,r,a,o,s,c="",u=!1;for(e=dn[gn],t("'"===e||'"'===e,"String literal must starts with a quote"),n=gn,++gn;hn>gn;){if(r=dn[gn++],r===e){e="";break}if("\\"===r)if(r=dn[gn++],l(r))++yn,"\r"===r&&"\n"===dn[gn]&&++gn;else switch(r){case"n":c+="\n";break;case"r":c+="\r";break;case"t":c+="	";break;case"u":case"x":s=gn,o=g(r),o?c+=o:(gn=s,c+=r);break;case"b":c+="\b";break;case"f":c+="\f";break;case"v":c+="";break;default:i(r)?(a="01234567".indexOf(r),0!==a&&(u=!0),hn>gn&&i(dn[gn])&&(u=!0,a=8*a+"01234567".indexOf(dn[gn++]),"0123".indexOf(r)>=0&&hn>gn&&i(dn[gn])&&(a=8*a+"01234567".indexOf(dn[gn++]))),c+=String.fromCharCode(a)):c+=r}else{if(l(r))break;c+=r}}return""!==e&&I({},pn.UnexpectedToken,"ILLEGAL"),{type:ln.StringLiteral,value:c,octal:u,lineNumber:yn,lineStart:bn,range:[n,gn]}}function S(){var e,n,r,a,i,o,s,u=!1,p=!1;for(vn=null,m(),r=gn,n=dn[gn],t("/"===n,"Regular expression literal must start with a slash"),e=dn[gn++];hn>gn;)if(n=dn[gn++],e+=n,"\\"===n)n=dn[gn++],l(n)&&I({},pn.UnterminatedRegExp),e+=n;else if(u)"]"===n&&(u=!1);else{if("/"===n){p=!0;break}"["===n?u=!0:l(n)&&I({},pn.UnterminatedRegExp)}for(p||I({},pn.UnterminatedRegExp),a=e.substr(1,e.length-2),i="";hn>gn&&(n=dn[gn],c(n));)if(++gn,"\\"===n&&hn>gn)if(n=dn[gn],"u"===n)if(++gn,s=gn,n=g("u"))for(i+=n,e+="\\u";gn>s;++s)e+=dn[s];else gn=s,i+="u",e+="\\u";else e+="\\";else i+=n,e+=n;try{o=new RegExp(a,i)}catch(f){I({},pn.InvalidRegExp)}return{literal:e,value:o,range:[r,gn]}}function x(e){return e.type===ln.Identifier||e.type===ln.Keyword||e.type===ln.BooleanLiteral||e.type===ln.NullLiteral}function k(){var e,t;return m(),gn>=hn?{type:ln.EOF,lineNumber:yn,lineStart:bn,range:[gn,gn]}:(t=b(),"undefined"!=typeof t?t:(e=dn[gn],"'"===e||'"'===e?v():"."===e||r(e)?h():(t=y(),"undefined"!=typeof t?t:void I({},pn.UnexpectedToken,"ILLEGAL"))))}function w(){var e;return vn?(gn=vn.range[1],yn=vn.lineNumber,bn=vn.lineStart,e=vn,vn=null,e):(vn=null,k())}function E(){var e,t,n;return null!==vn?vn:(e=gn,t=yn,n=bn,vn=k(),gn=e,yn=t,bn=n,vn)}function L(){var e,t,n,r;return e=gn,t=yn,n=bn,m(),r=yn!==t,gn=e,yn=t,bn=n,r}function I(e,t){var n,r=Array.prototype.slice.call(arguments,2),a=t.replace(/%(\d)/g,function(e,t){return r[t]||""});throw"number"==typeof e.lineNumber?(n=new Error("Line "+e.lineNumber+": "+a),n.index=e.range[0],n.lineNumber=e.lineNumber,n.column=e.range[0]-bn+1):(n=new Error("Line "+yn+": "+a),n.index=gn,n.lineNumber=yn,n.column=gn-bn+1),n}function B(){try{I.apply(null,arguments)}catch(e){if(!xn.errors)throw e;xn.errors.push(e)}}function O(e){if(e.type===ln.EOF&&I(e,pn.UnexpectedEOS),e.type===ln.NumericLiteral&&I(e,pn.UnexpectedNumber),e.type===ln.StringLiteral&&I(e,pn.UnexpectedString),e.type===ln.Identifier&&I(e,pn.UnexpectedIdentifier),e.type===ln.Keyword){if(u(e.value))I(e,pn.UnexpectedReserved);else if(mn&&p(e.value))return void B(e,pn.StrictReservedWord);I(e,pn.UnexpectedToken,e.value)}I(e,pn.UnexpectedToken,e.value)}function A(e){var t=w();(t.type!==ln.Punctuator||t.value!==e)&&O(t)}function N(e){var t=w();(t.type!==ln.Keyword||t.value!==e)&&O(t)}function F(e){var t=E();return t.type===ln.Punctuator&&t.value===e}function C(e){var t=E();return t.type===ln.Keyword&&t.value===e}function T(){var e=E(),t=e.value;return e.type!==ln.Punctuator?!1:"="===t||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t}function D(){var e,t;if(";"===dn[gn])return void w();if(t=yn,m(),yn===t){if(F(";"))return void w();e=E(),e.type===ln.EOF||F("}")||O(e)}}function P(e){return e.type===cn.Identifier||e.type===cn.MemberExpression}function _(){var e=[];for(A("[");!F("]");)F(",")?(w(),e.push(null)):(e.push(ct()),F("]")||A(","));return A("]"),{type:cn.ArrayExpression,elements:e}}function R(e,t){var n,r;return n=mn,r=_t(),t&&mn&&f(e[0].name)&&B(t,pn.StrictParamName),mn=n,{type:cn.FunctionExpression,id:null,params:e,defaults:[],body:r,rest:null,generator:!1,expression:!1}}function j(){var e=w();return e.type===ln.StringLiteral||e.type===ln.NumericLiteral?(mn&&e.octal&&B(e,pn.StrictOctalLiteral),zt(e)):{type:cn.Identifier,name:e.value}}function q(){var e,t,n,r;return e=E(),e.type===ln.Identifier?(n=j(),"get"!==e.value||F(":")?"set"!==e.value||F(":")?(A(":"),{type:cn.Property,key:n,value:ct(),kind:"init"}):(t=j(),A("("),e=E(),e.type!==ln.Identifier?(A(")"),B(e,pn.UnexpectedToken,e.value),{type:cn.Property,key:t,value:R([]),kind:"set"}):(r=[dt()],A(")"),{type:cn.Property,key:t,value:R(r,e),kind:"set"})):(t=j(),A("("),A(")"),{type:cn.Property,key:t,value:R([]),kind:"get"})):e.type!==ln.EOF&&e.type!==ln.Punctuator?(t=j(),A(":"),{type:cn.Property,key:t,value:ct(),kind:"init"}):void O(e)}function U(){var e,t,n,r=[],a={},i=String;for(A("{");!F("}");)e=q(),t=e.key.type===cn.Identifier?e.key.name:i(e.key.value),n="init"===e.kind?un.Data:"get"===e.kind?un.Get:un.Set,Object.prototype.hasOwnProperty.call(a,t)?(a[t]===un.Data?mn&&n===un.Data?B({},pn.StrictDuplicateProperty):n!==un.Data&&B({},pn.AccessorDataProperty):n===un.Data?B({},pn.AccessorDataProperty):a[t]&n&&B({},pn.AccessorGetSet),a[t]|=n):a[t]=n,r.push(e),F("}")||A(",");return A("}"),{type:cn.ObjectExpression,properties:r}}function M(){var e;return A("("),e=ut(),A(")"),e}function V(){var e=E(),t=e.type;if(t===ln.Identifier)return{type:cn.Identifier,name:w().value};if(t===ln.StringLiteral||t===ln.NumericLiteral)return mn&&e.octal&&B(e,pn.StrictOctalLiteral),zt(w());if(t===ln.Keyword){if(C("this"))return w(),{type:cn.ThisExpression};if(C("function"))return jt()}return t===ln.BooleanLiteral?(w(),e.value="true"===e.value,zt(e)):t===ln.NullLiteral?(w(),e.value=null,zt(e)):F("[")?_():F("{")?U():F("(")?M():F("/")||F("/=")?zt(S()):O(w())}function K(){var e=[];if(A("("),!F(")"))for(;hn>gn&&(e.push(ct()),!F(")"));)A(",");return A(")"),e}function W(){var e=w();return x(e)||O(e),{type:cn.Identifier,name:e.value}}function H(){return A("."),W()}function G(){var e;return A("["),e=ut(),A("]"),e}function J(){var e;return N("new"),e={type:cn.NewExpression,callee:X(),arguments:[]},F("(")&&(e.arguments=K()),e}function z(){var e;for(e=C("new")?J():V();F(".")||F("[")||F("(");)e=F("(")?{type:cn.CallExpression,callee:e,arguments:K()}:F("[")?{type:cn.MemberExpression,computed:!0,object:e,property:G()}:{type:cn.MemberExpression,computed:!1,object:e,property:H()};return e}function X(){var e;for(e=C("new")?J():V();F(".")||F("[");)e=F("[")?{type:cn.MemberExpression,computed:!0,object:e,property:G()}:{type:cn.MemberExpression,computed:!1,object:e,property:H()};return e}function $(){var e,t=z();return e=E(),e.type!==ln.Punctuator?t:(!F("++")&&!F("--")||L()||(mn&&t.type===cn.Identifier&&f(t.name)&&B({},pn.StrictLHSPostfix),P(t)||B({},pn.InvalidLHSInAssignment),t={type:cn.UpdateExpression,operator:w().value,argument:t,prefix:!1}),t)}function Z(){var e,t;return e=E(),e.type!==ln.Punctuator&&e.type!==ln.Keyword?$():F("++")||F("--")?(e=w(),t=Z(),mn&&t.type===cn.Identifier&&f(t.name)&&B({},pn.StrictLHSPrefix),P(t)||B({},pn.InvalidLHSInAssignment),t={type:cn.UpdateExpression,operator:e.value,argument:t,prefix:!0}):F("+")||F("-")||F("~")||F("!")?t={type:cn.UnaryExpression,operator:w().value,argument:Z(),prefix:!0}:C("delete")||C("void")||C("typeof")?(t={type:cn.UnaryExpression,operator:w().value,argument:Z(),prefix:!0},mn&&"delete"===t.operator&&t.argument.type===cn.Identifier&&B({},pn.StrictDelete),t):$()}function Y(){for(var e=Z();F("*")||F("/")||F("%");)e={type:cn.BinaryExpression,operator:w().value,left:e,right:Z()};return e}function Q(){for(var e=Y();F("+")||F("-");)e={type:cn.BinaryExpression,operator:w().value,left:e,right:Y()};return e}function et(){for(var e=Q();F("<<")||F(">>")||F(">>>");)e={type:cn.BinaryExpression,operator:w().value,left:e,right:Q()};return e}function tt(){var e,t;for(t=Sn.allowIn,Sn.allowIn=!0,e=et();F("<")||F(">")||F("<=")||F(">=")||t&&C("in")||C("instanceof");)e={type:cn.BinaryExpression,operator:w().value,left:e,right:et()};return Sn.allowIn=t,e}function nt(){for(var e=tt();F("==")||F("!=")||F("===")||F("!==");)e={type:cn.BinaryExpression,operator:w().value,left:e,right:tt()};return e}function rt(){for(var e=nt();F("&");)w(),e={type:cn.BinaryExpression,operator:"&",left:e,right:nt()};return e}function at(){for(var e=rt();F("^");)w(),e={type:cn.BinaryExpression,operator:"^",left:e,right:rt()};return e}function it(){for(var e=at();F("|");)w(),e={type:cn.BinaryExpression,operator:"|",left:e,right:at()};return e}function ot(){for(var e=it();F("&&");)w(),e={type:cn.LogicalExpression,operator:"&&",left:e,right:it()};return e}function lt(){for(var e=ot();F("||");)w(),e={type:cn.LogicalExpression,operator:"||",left:e,right:ot()};return e}function st(){var e,t,n;return e=lt(),F("?")&&(w(),t=Sn.allowIn,Sn.allowIn=!0,n=ct(),Sn.allowIn=t,A(":"),e={type:cn.ConditionalExpression,test:e,consequent:n,alternate:ct()}),e}function ct(){var e,t;return e=E(),t=st(),T()&&(P(t)||B({},pn.InvalidLHSInAssignment),mn&&t.type===cn.Identifier&&f(t.name)&&B(e,pn.StrictLHSAssignment),t={type:cn.AssignmentExpression,operator:w().value,left:t,right:ct()}),t}function ut(){var e=ct();if(F(","))for(e={type:cn.SequenceExpression,expressions:[e]};hn>gn&&F(",");)w(),e.expressions.push(ct());return e}function pt(){for(var e,t=[];hn>gn&&!F("}")&&(e=qt(),"undefined"!=typeof e);)t.push(e);return t}function ft(){var e;return A("{"),e=pt(),A("}"),{type:cn.BlockStatement,body:e}}function dt(){var e=w();return e.type!==ln.Identifier&&O(e),{type:cn.Identifier,name:e.value}}function mt(e){var t=dt(),n=null;return mn&&f(t.name)&&B({},pn.StrictVarName),"const"===e?(A("="),n=ct()):F("=")&&(w(),n=ct()),{type:cn.VariableDeclarator,id:t,init:n}}function gt(e){var t=[];do{if(t.push(mt(e)),!F(","))break;w()}while(hn>gn);return t}function yt(){var e;return N("var"),e=gt(),D(),{type:cn.VariableDeclaration,declarations:e,kind:"var"}}function bt(e){var t;return N(e),t=gt(e),D(),{type:cn.VariableDeclaration,declarations:t,kind:e}}function ht(){return A(";"),{type:cn.EmptyStatement}}function vt(){var e=ut();return D(),{type:cn.ExpressionStatement,expression:e}}function St(){var e,t,n;return N("if"),A("("),e=ut(),A(")"),t=Pt(),C("else")?(w(),n=Pt()):n=null,{type:cn.IfStatement,test:e,consequent:t,alternate:n}}function xt(){var e,t,n;return N("do"),n=Sn.inIteration,Sn.inIteration=!0,e=Pt(),Sn.inIteration=n,N("while"),A("("),t=ut(),A(")"),F(";")&&w(),{type:cn.DoWhileStatement,body:e,test:t}}function kt(){var e,t,n;return N("while"),A("("),e=ut(),A(")"),n=Sn.inIteration,Sn.inIteration=!0,t=Pt(),Sn.inIteration=n,{type:cn.WhileStatement,test:e,body:t}}function wt(){var e=w();return{type:cn.VariableDeclaration,declarations:gt(),kind:e.value}}function Et(){var e,t,n,r,a,i,o;return e=t=n=null,N("for"),A("("),F(";")?w():(C("var")||C("let")?(Sn.allowIn=!1,e=wt(),Sn.allowIn=!0,1===e.declarations.length&&C("in")&&(w(),r=e,a=ut(),e=null)):(Sn.allowIn=!1,e=ut(),Sn.allowIn=!0,C("in")&&(P(e)||B({},pn.InvalidLHSInForIn),w(),r=e,a=ut(),e=null)),"undefined"==typeof r&&A(";")),"undefined"==typeof r&&(F(";")||(t=ut()),A(";"),F(")")||(n=ut())),A(")"),o=Sn.inIteration,Sn.inIteration=!0,i=Pt(),Sn.inIteration=o,"undefined"==typeof r?{type:cn.ForStatement,init:e,test:t,update:n,body:i}:{type:cn.ForInStatement,left:r,right:a,body:i,each:!1}}function Lt(){var e,t=null;return N("continue"),";"===dn[gn]?(w(),Sn.inIteration||I({},pn.IllegalContinue),{type:cn.ContinueStatement,label:null}):L()?(Sn.inIteration||I({},pn.IllegalContinue),{type:cn.ContinueStatement,label:null}):(e=E(),e.type===ln.Identifier&&(t=dt(),Object.prototype.hasOwnProperty.call(Sn.labelSet,t.name)||I({},pn.UnknownLabel,t.name)),D(),null!==t||Sn.inIteration||I({},pn.IllegalContinue),{type:cn.ContinueStatement,label:t})}function It(){var e,t=null;return N("break"),";"===dn[gn]?(w(),Sn.inIteration||Sn.inSwitch||I({},pn.IllegalBreak),{type:cn.BreakStatement,label:null}):L()?(Sn.inIteration||Sn.inSwitch||I({},pn.IllegalBreak),{type:cn.BreakStatement,label:null}):(e=E(),e.type===ln.Identifier&&(t=dt(),Object.prototype.hasOwnProperty.call(Sn.labelSet,t.name)||I({},pn.UnknownLabel,t.name)),D(),null!==t||Sn.inIteration||Sn.inSwitch||I({},pn.IllegalBreak),{type:cn.BreakStatement,label:t})}function Bt(){var e,t=null;return N("return"),Sn.inFunctionBody||B({},pn.IllegalReturn)," "===dn[gn]&&s(dn[gn+1])?(t=ut(),D(),{type:cn.ReturnStatement,argument:t}):L()?{type:cn.ReturnStatement,argument:null}:(F(";")||(e=E(),F("}")||e.type===ln.EOF||(t=ut())),D(),{type:cn.ReturnStatement,argument:t})}function Ot(){var e,t;return mn&&B({},pn.StrictModeWith),N("with"),A("("),e=ut(),A(")"),t=Pt(),{type:cn.WithStatement,object:e,body:t}}function At(){var e,t,n=[];for(C("default")?(w(),e=null):(N("case"),e=ut()),A(":");hn>gn&&!(F("}")||C("default")||C("case"))&&(t=Pt(),"undefined"!=typeof t);)n.push(t);return{type:cn.SwitchCase,test:e,consequent:n}}function Nt(){var e,t,n,r,a;if(N("switch"),A("("),e=ut(),A(")"),A("{"),t=[],F("}"))return w(),{type:cn.SwitchStatement,discriminant:e,cases:t};for(r=Sn.inSwitch,Sn.inSwitch=!0,a=!1;hn>gn&&!F("}");)n=At(),null===n.test&&(a&&I({},pn.MultipleDefaultsInSwitch),a=!0),t.push(n);return Sn.inSwitch=r,A("}"),{type:cn.SwitchStatement,discriminant:e,cases:t}}function Ft(){var e;return N("throw"),L()&&I({},pn.NewlineAfterThrow),e=ut(),D(),{type:cn.ThrowStatement,argument:e}}function Ct(){var e;return N("catch"),A("("),F(")")&&O(E()),e=dt(),mn&&f(e.name)&&B({},pn.StrictCatchVariable),A(")"),{type:cn.CatchClause,param:e,body:ft()}}function Tt(){var e,t=[],n=null;return N("try"),e=ft(),C("catch")&&t.push(Ct()),C("finally")&&(w(),n=ft()),0!==t.length||n||I({},pn.NoCatchOrFinally),{type:cn.TryStatement,block:e,guardedHandlers:[],handlers:t,finalizer:n}}function Dt(){return N("debugger"),D(),{type:cn.DebuggerStatement}}function Pt(){var e,t,n=E();if(n.type===ln.EOF&&O(n),n.type===ln.Punctuator)switch(n.value){case";":return ht();case"{":return ft();case"(":return vt()}if(n.type===ln.Keyword)switch(n.value){case"break":return It();case"continue":return Lt();case"debugger":return Dt();case"do":return xt();case"for":return Et();case"function":return Rt();case"if":return St();case"return":return Bt();case"switch":return Nt();case"throw":return Ft();case"try":return Tt();case"var":return yt();case"while":return kt();case"with":return Ot()}return e=ut(),e.type===cn.Identifier&&F(":")?(w(),Object.prototype.hasOwnProperty.call(Sn.labelSet,e.name)&&I({},pn.Redeclaration,"Label",e.name),Sn.labelSet[e.name]=!0,t=Pt(),delete Sn.labelSet[e.name],{type:cn.LabeledStatement,label:e,body:t}):(D(),{type:cn.ExpressionStatement,expression:e})}function _t(){var e,t,r,a,i,o,l,s,c=[];for(A("{");hn>gn&&(t=E(),t.type===ln.StringLiteral)&&(e=qt(),c.push(e),e.expression.type===cn.Literal);)r=n(t.range[0]+1,t.range[1]-1),"use strict"===r?(mn=!0,a&&B(a,pn.StrictOctalLiteral)):!a&&t.octal&&(a=t);for(i=Sn.labelSet,o=Sn.inIteration,l=Sn.inSwitch,s=Sn.inFunctionBody,Sn.labelSet={},Sn.inIteration=!1,Sn.inSwitch=!1,Sn.inFunctionBody=!0;hn>gn&&!F("}")&&(e=qt(),"undefined"!=typeof e);)c.push(e);return A("}"),Sn.labelSet=i,Sn.inIteration=o,Sn.inSwitch=l,Sn.inFunctionBody=s,{type:cn.BlockStatement,body:c}}function Rt(){var e,t,n,r,a,i,o,l,s,c=[];if(N("function"),r=E(),e=dt(),mn?f(r.value)&&B(r,pn.StrictFunctionName):f(r.value)?(i=r,o=pn.StrictFunctionName):p(r.value)&&(i=r,o=pn.StrictReservedWord),A("("),!F(")"))for(s={};hn>gn&&(r=E(),t=dt(),mn?(f(r.value)&&(a=r,o=pn.StrictParamName),Object.prototype.hasOwnProperty.call(s,r.value)&&(a=r,o=pn.StrictParamDupe)):i||(f(r.value)?(i=r,o=pn.StrictParamName):p(r.value)?(i=r,o=pn.StrictReservedWord):Object.prototype.hasOwnProperty.call(s,r.value)&&(i=r,o=pn.StrictParamDupe)),c.push(t),s[t.name]=!0,!F(")"));)A(",");return A(")"),l=mn,n=_t(),mn&&i&&I(i,o),mn&&a&&B(a,o),mn=l,{type:cn.FunctionDeclaration,id:e,params:c,defaults:[],body:n,rest:null,generator:!1,expression:!1}}function jt(){var e,t,n,r,a,i,o,l,s=null,c=[];if(N("function"),F("(")||(e=E(),s=dt(),mn?f(e.value)&&B(e,pn.StrictFunctionName):f(e.value)?(n=e,r=pn.StrictFunctionName):p(e.value)&&(n=e,r=pn.StrictReservedWord)),A("("),!F(")"))for(l={};hn>gn&&(e=E(),a=dt(),mn?(f(e.value)&&(t=e,r=pn.StrictParamName),Object.prototype.hasOwnProperty.call(l,e.value)&&(t=e,r=pn.StrictParamDupe)):n||(f(e.value)?(n=e,r=pn.StrictParamName):p(e.value)?(n=e,r=pn.StrictReservedWord):Object.prototype.hasOwnProperty.call(l,e.value)&&(n=e,r=pn.StrictParamDupe)),c.push(a),l[a.name]=!0,!F(")"));)A(",");return A(")"),o=mn,i=_t(),mn&&n&&I(n,r),mn&&t&&B(t,r),mn=o,{type:cn.FunctionExpression,id:s,params:c,defaults:[],body:i,rest:null,generator:!1,expression:!1}}function qt(){var e=E();if(e.type===ln.Keyword)switch(e.value){case"const":case"let":return bt(e.value);case"function":return Rt();default:return Pt()}return e.type!==ln.EOF?Pt():void 0}function Ut(){for(var e,t,r,a,i=[];hn>gn&&(t=E(),t.type===ln.StringLiteral)&&(e=qt(),i.push(e),e.expression.type===cn.Literal);)r=n(t.range[0]+1,t.range[1]-1),"use strict"===r?(mn=!0,a&&B(a,pn.StrictOctalLiteral)):!a&&t.octal&&(a=t);for(;hn>gn&&(e=qt(),"undefined"!=typeof e);)i.push(e);return i}function Mt(){var e;return mn=!1,e={type:cn.Program,body:Ut()}}function Vt(e,n,r,a,i){t("number"==typeof r,"Comment must have valid position"),xn.comments.length>0&&xn.comments[xn.comments.length-1].range[1]>r||xn.comments.push({type:e,value:n,range:[r,a],loc:i})}function Kt(){var e,t,n,r,a,i;for(e="",a=!1,i=!1;hn>gn;)if(t=dn[gn],i)t=dn[gn++],l(t)?(n.end={line:yn,column:gn-bn-1},i=!1,Vt("Line",e,r,gn-1,n),"\r"===t&&"\n"===dn[gn]&&++gn,++yn,bn=gn,e=""):gn>=hn?(i=!1,e+=t,n.end={line:yn,column:hn-bn},Vt("Line",e,r,hn,n)):e+=t;else if(a)l(t)?("\r"===t&&"\n"===dn[gn+1]?(++gn,e+="\r\n"):e+=t,++yn,++gn,bn=gn,gn>=hn&&I({},pn.UnexpectedToken,"ILLEGAL")):(t=dn[gn++],gn>=hn&&I({},pn.UnexpectedToken,"ILLEGAL"),e+=t,"*"===t&&(t=dn[gn],"/"===t&&(e=e.substr(0,e.length-1),a=!1,++gn,n.end={line:yn,column:gn-bn},Vt("Block",e,r,gn,n),e="")));else if("/"===t)if(t=dn[gn+1],"/"===t)n={start:{line:yn,column:gn-bn}},r=gn,gn+=2,i=!0,gn>=hn&&(n.end={line:yn,column:gn-bn},i=!1,Vt("Line",e,r,gn,n));else{if("*"!==t)break;r=gn,gn+=2,a=!0,n={start:{line:yn,column:gn-bn-2}},gn>=hn&&I({},pn.UnexpectedToken,"ILLEGAL")}else if(o(t))++gn;else{if(!l(t))break;++gn,"\r"===t&&"\n"===dn[gn]&&++gn,++yn,bn=gn}}function Wt(){var e,t,n,r=[];for(e=0;e<xn.comments.length;++e)t=xn.comments[e],n={type:t.type,value:t.value},xn.range&&(n.range=t.range),xn.loc&&(n.loc=t.loc),r.push(n);xn.comments=r}function Ht(){var e,t,r,a,i;return m(),e=gn,t={start:{line:yn,column:gn-bn}},r=xn.advance(),t.end={line:yn,column:gn-bn},r.type!==ln.EOF&&(a=[r.range[0],r.range[1]],i=n(r.range[0],r.range[1]),xn.tokens.push({type:sn[r.type],value:i,range:a,loc:t})),r}function Gt(){var e,t,n,r;return m(),e=gn,t={start:{line:yn,column:gn-bn}},n=xn.scanRegExp(),t.end={line:yn,column:gn-bn},xn.tokens.length>0&&(r=xn.tokens[xn.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&xn.tokens.pop()),xn.tokens.push({type:"RegularExpression",value:n.literal,range:[e,gn],loc:t}),n}function Jt(){var e,t,n,r=[];for(e=0;e<xn.tokens.length;++e)t=xn.tokens[e],n={type:t.type,value:t.value},xn.range&&(n.range=t.range),xn.loc&&(n.loc=t.loc),r.push(n);xn.tokens=r}function zt(e){return{type:cn.Literal,value:e.value}}function Xt(e){return{type:cn.Literal,value:e.value,raw:n(e.range[0],e.range[1])}}function $t(){var e={};return e.range=[gn,gn],e.loc={start:{line:yn,column:gn-bn},end:{line:yn,column:gn-bn}},e.end=function(){this.range[1]=gn,this.loc.end.line=yn,this.loc.end.column=gn-bn},e.applyGroup=function(e){xn.range&&(e.groupRange=[this.range[0],this.range[1]]),xn.loc&&(e.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e.apply=function(e){xn.range&&(e.range=[this.range[0],this.range[1]]),xn.loc&&(e.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e}function Zt(){var e,t;return m(),e=$t(),A("("),t=ut(),A(")"),e.end(),e.applyGroup(t),t}function Yt(){var e,t;for(m(),e=$t(),t=C("new")?J():V();F(".")||F("[");)F("[")?(t={type:cn.MemberExpression,computed:!0,object:t,property:G()},e.end(),e.apply(t)):(t={type:cn.MemberExpression,computed:!1,object:t,property:H()},e.end(),e.apply(t));return t}function Qt(){var e,t;for(m(),e=$t(),t=C("new")?J():V();F(".")||F("[")||F("(");)F("(")?(t={type:cn.CallExpression,callee:t,arguments:K()},e.end(),e.apply(t)):F("[")?(t={type:cn.MemberExpression,computed:!0,object:t,property:G()},e.end(),e.apply(t)):(t={type:cn.MemberExpression,computed:!1,object:t,property:H()},e.end(),e.apply(t));return t}function en(e){var t,n,r;t="[object Array]"===Object.prototype.toString.apply(e)?[]:{};for(n in e)e.hasOwnProperty(n)&&"groupRange"!==n&&"groupLoc"!==n&&(r=e[n],t[n]=null===r||"object"!=typeof r||r instanceof RegExp?r:en(r));return t}function tn(e,t){return function(n){function r(e){return e.type===cn.LogicalExpression||e.type===cn.BinaryExpression}function a(n){var i,o;r(n.left)&&a(n.left),r(n.right)&&a(n.right),e&&(n.left.groupRange||n.right.groupRange?(i=n.left.groupRange?n.left.groupRange[0]:n.left.range[0],o=n.right.groupRange?n.right.groupRange[1]:n.right.range[1],n.range=[i,o]):"undefined"==typeof n.range&&(i=n.left.range[0],o=n.right.range[1],n.range=[i,o])),t&&(n.left.groupLoc||n.right.groupLoc?(i=n.left.groupLoc?n.left.groupLoc.start:n.left.loc.start,o=n.right.groupLoc?n.right.groupLoc.end:n.right.loc.end,n.loc={start:i,end:o}):"undefined"==typeof n.loc&&(n.loc={start:n.left.loc.start,end:n.right.loc.end}))}return function(){var i,o;return m(),i=$t(),o=n.apply(null,arguments),i.end(),e&&"undefined"==typeof o.range&&i.apply(o),t&&"undefined"==typeof o.loc&&i.apply(o),r(o)&&a(o),o}}}function nn(){var e;xn.comments&&(xn.skipComment=m,m=Kt),xn.raw&&(xn.createLiteral=zt,zt=Xt),(xn.range||xn.loc)&&(xn.parseGroupExpression=M,xn.parseLeftHandSideExpression=X,xn.parseLeftHandSideExpressionAllowCall=z,M=Zt,X=Yt,z=Qt,e=tn(xn.range,xn.loc),xn.parseAdditiveExpression=Q,xn.parseAssignmentExpression=ct,xn.parseBitwiseANDExpression=rt,xn.parseBitwiseORExpression=it,xn.parseBitwiseXORExpression=at,xn.parseBlock=ft,xn.parseFunctionSourceElements=_t,xn.parseCatchClause=Ct,xn.parseComputedMember=G,xn.parseConditionalExpression=st,xn.parseConstLetDeclaration=bt,xn.parseEqualityExpression=nt,xn.parseExpression=ut,xn.parseForVariableDeclaration=wt,xn.parseFunctionDeclaration=Rt,xn.parseFunctionExpression=jt,xn.parseLogicalANDExpression=ot,xn.parseLogicalORExpression=lt,xn.parseMultiplicativeExpression=Y,xn.parseNewExpression=J,xn.parseNonComputedProperty=W,xn.parseObjectProperty=q,xn.parseObjectPropertyKey=j,xn.parsePostfixExpression=$,xn.parsePrimaryExpression=V,xn.parseProgram=Mt,xn.parsePropertyFunction=R,xn.parseRelationalExpression=tt,xn.parseStatement=Pt,xn.parseShiftExpression=et,xn.parseSwitchCase=At,xn.parseUnaryExpression=Z,xn.parseVariableDeclaration=mt,xn.parseVariableIdentifier=dt,Q=e(xn.parseAdditiveExpression),ct=e(xn.parseAssignmentExpression),rt=e(xn.parseBitwiseANDExpression),it=e(xn.parseBitwiseORExpression),at=e(xn.parseBitwiseXORExpression),ft=e(xn.parseBlock),_t=e(xn.parseFunctionSourceElements),Ct=e(xn.parseCatchClause),G=e(xn.parseComputedMember),st=e(xn.parseConditionalExpression),bt=e(xn.parseConstLetDeclaration),nt=e(xn.parseEqualityExpression),ut=e(xn.parseExpression),wt=e(xn.parseForVariableDeclaration),Rt=e(xn.parseFunctionDeclaration),jt=e(xn.parseFunctionExpression),X=e(X),ot=e(xn.parseLogicalANDExpression),lt=e(xn.parseLogicalORExpression),Y=e(xn.parseMultiplicativeExpression),J=e(xn.parseNewExpression),W=e(xn.parseNonComputedProperty),q=e(xn.parseObjectProperty),j=e(xn.parseObjectPropertyKey),$=e(xn.parsePostfixExpression),V=e(xn.parsePrimaryExpression),Mt=e(xn.parseProgram),R=e(xn.parsePropertyFunction),tt=e(xn.parseRelationalExpression),Pt=e(xn.parseStatement),et=e(xn.parseShiftExpression),At=e(xn.parseSwitchCase),Z=e(xn.parseUnaryExpression),mt=e(xn.parseVariableDeclaration),dt=e(xn.parseVariableIdentifier)),"undefined"!=typeof xn.tokens&&(xn.advance=k,xn.scanRegExp=S,k=Ht,S=Gt)}function rn(){"function"==typeof xn.skipComment&&(m=xn.skipComment),xn.raw&&(zt=xn.createLiteral),(xn.range||xn.loc)&&(Q=xn.parseAdditiveExpression,ct=xn.parseAssignmentExpression,rt=xn.parseBitwiseANDExpression,it=xn.parseBitwiseORExpression,at=xn.parseBitwiseXORExpression,ft=xn.parseBlock,_t=xn.parseFunctionSourceElements,Ct=xn.parseCatchClause,G=xn.parseComputedMember,st=xn.parseConditionalExpression,bt=xn.parseConstLetDeclaration,nt=xn.parseEqualityExpression,ut=xn.parseExpression,wt=xn.parseForVariableDeclaration,Rt=xn.parseFunctionDeclaration,jt=xn.parseFunctionExpression,M=xn.parseGroupExpression,X=xn.parseLeftHandSideExpression,z=xn.parseLeftHandSideExpressionAllowCall,ot=xn.parseLogicalANDExpression,lt=xn.parseLogicalORExpression,Y=xn.parseMultiplicativeExpression,J=xn.parseNewExpression,W=xn.parseNonComputedProperty,q=xn.parseObjectProperty,j=xn.parseObjectPropertyKey,V=xn.parsePrimaryExpression,$=xn.parsePostfixExpression,Mt=xn.parseProgram,R=xn.parsePropertyFunction,tt=xn.parseRelationalExpression,Pt=xn.parseStatement,et=xn.parseShiftExpression,At=xn.parseSwitchCase,Z=xn.parseUnaryExpression,mt=xn.parseVariableDeclaration,dt=xn.parseVariableIdentifier),"function"==typeof xn.scanRegExp&&(k=xn.advance,S=xn.scanRegExp)}function an(e){var t,n=e.length,r=[];for(t=0;n>t;++t)r[t]=e.charAt(t);return r}function on(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),dn=e,gn=0,yn=dn.length>0?1:0,bn=0,hn=dn.length,vn=null,Sn={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1},xn={},"undefined"!=typeof t&&(xn.range="boolean"==typeof t.range&&t.range,xn.loc="boolean"==typeof t.loc&&t.loc,xn.raw="boolean"==typeof t.raw&&t.raw,"boolean"==typeof t.tokens&&t.tokens&&(xn.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(xn.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(xn.errors=[])),hn>0&&"undefined"==typeof dn[0]&&(e instanceof String&&(dn=e.valueOf()),"undefined"==typeof dn[0]&&(dn=an(e))),nn();
try{n=Mt(),"undefined"!=typeof xn.comments&&(Wt(),n.comments=xn.comments),"undefined"!=typeof xn.tokens&&(Jt(),n.tokens=xn.tokens),"undefined"!=typeof xn.errors&&(n.errors=xn.errors),(xn.range||xn.loc)&&(n.body=en(n.body))}catch(a){throw a}finally{rn(),xn={}}return n}var ln,sn,cn,un,pn,fn,dn,mn,gn,yn,bn,hn,vn,Sn,xn;ln={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},sn={},sn[ln.BooleanLiteral]="Boolean",sn[ln.EOF]="<end>",sn[ln.Identifier]="Identifier",sn[ln.Keyword]="Keyword",sn[ln.NullLiteral]="Null",sn[ln.NumericLiteral]="Numeric",sn[ln.Punctuator]="Punctuator",sn[ln.StringLiteral]="String",cn={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},un={Data:1,Get:2,Set:4},pn={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},fn={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},"undefined"==typeof"esprima"[0]&&(n=function(e,t){return dn.slice(e,t).join("")}),e.version="1.0.4",e.parse=on,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in cn)cn.hasOwnProperty(e)&&(t[e]=cn[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})},{}],2:[function(e,t){function n(e,t,n){function r(t){n[e.range[0]]=t;for(var r=e.range[0]+1;r<e.range[1];r++)n[r]=""}if(e.range)if(e.parent=t,e.source=function(){return n.slice(e.range[0],e.range[1]).join("")},e.update&&"object"==typeof e.update){var o=e.update;i(a(o),function(e){r[e]=o[e]}),e.update=r}else e.update=r}var r=e("esprima").parse,a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},i=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t.call(e,e[n],n,e)},o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e,t,l){"function"==typeof t&&(l=t,t={}),"object"==typeof e&&(t=e,e=t.source,delete t.source),e=void 0===e?t.source:e,t.range=!0,"string"!=typeof e&&(e=String(e));var s=r(e,t),c={chunks:e.split(""),toString:function(){return c.chunks.join("")},inspect:function(){return c.toString()}};return function u(e,t){n(e,t,c.chunks),i(a(e),function(t){if("parent"!==t){var r=e[t];o(r)?i(r,function(t){t&&"string"==typeof t.type&&u(t,e)}):r&&"string"==typeof r.type&&(n(r,e,c.chunks),u(r,e))}}),l(e)}(s,void 0),c}},{esprima:1}]},{},[2])(2)});var inBrowser="undefined"!=typeof window&&this===window;(inBrowser?window:exports).blanket=function(){var e,t=["ExpressionStatement","BreakStatement","ContinueStatement","VariableDeclaration","ReturnStatement","ThrowStatement","TryStatement","FunctionDeclaration","IfStatement","WhileStatement","DoWhileStatement","ForStatement","ForInStatement","SwitchStatement","WithStatement"],n=["IfStatement","WhileStatement","DoWhileStatement","ForStatement","ForInStatement","WithStatement"],r=Math.floor(1e3*Math.random()),a={},i={reporter:null,adapter:null,filter:null,customVariable:null,loader:null,ignoreScriptError:!1,existingRequireJS:!1,autoStart:!1,timeout:180,ignoreCors:!1,branchTracking:!1,sourceURL:!1,debug:!1,engineOnly:!1,testReadyCallback:null,commonJS:!1,instrumentCache:!1,modulePattern:null};return inBrowser&&"undefined"!=typeof window.blanket&&(e=window.blanket.noConflict()),_blanket={noConflict:function(){return e?e:_blanket},_getCopyNumber:function(){return r},extend:function(e){_blanket._extend(_blanket,e)},_extend:function(e,t){if(t)for(var n in t)e[n]instanceof Object&&"function"!=typeof e[n]?_blanket._extend(e[n],t[n]):e[n]=t[n]},getCovVar:function(){var e=_blanket.options("customVariable");return e?(_blanket.options("debug")&&console.log("BLANKET-Using custom tracking variable:",e),inBrowser?"window."+e:e):inBrowser?"window._$blanket":"_$jscoverage"},options:function(e,t){if("string"!=typeof e)_blanket._extend(i,e);else{if("undefined"==typeof t)return i[e];i[e]=t}},parseAndModify:inBrowser?window.falafel:require("falafel"),instrument:function(e,t){var n=e.inputFile,r=e.inputFileName;if(!inBrowser){var a=process.cwd();r=r.replace(a,"")}if(_blanket.options("instrumentCache")&&sessionStorage&&sessionStorage.getItem("blanket_instrument_store-"+r))_blanket.options("debug")&&console.log("BLANKET-Reading instrumentation from cache: ",r),t(sessionStorage.getItem("blanket_instrument_store-"+r));else{var i=_blanket._prepareSource(n);_blanket._trackingArraySetup=[];var o=_blanket.parseAndModify(n,{loc:!0,comment:!0},_blanket._addTracking(r));o=_blanket._trackingSetup(r,i)+o,_blanket.options("sourceURL")&&(o+="\n//@ sourceURL="+r.replace("http://","")),_blanket.options("debug")&&console.log("BLANKET-Instrumented file: ",r),_blanket.options("instrumentCache")&&sessionStorage&&(_blanket.options("debug")&&console.log("BLANKET-Saving instrumentation to cache: ",r),sessionStorage.setItem("blanket_instrument_store-"+r,o)),t(o)}},_trackingArraySetup:[],_branchingArraySetup:[],_prepareSource:function(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/(\r\n|\n|\r)/gm,"\n").split("\n")},_trackingSetup:function(e,t){var n=_blanket.options("branchTracking"),r=t.join("',\n'"),a="",i=_blanket.getCovVar();return a+="if (typeof "+i+" === 'undefined') "+i+" = {};\n",n&&(a+="var _$branchFcn=function(f,l,c,r){ ",a+="if (!!r) { ",a+=i+"[f].branchData[l][c][0] = "+i+"[f].branchData[l][c][0] || [];",a+=i+"[f].branchData[l][c][0].push(r); }",a+="else { ",a+=i+"[f].branchData[l][c][1] = "+i+"[f].branchData[l][c][1] || [];",a+=i+"[f].branchData[l][c][1].push(r); }",a+="return r;};\n"),a+="if (typeof "+i+"['"+e+"'] === 'undefined'){",a+=i+"['"+e+"']=[];\n",n&&(a+=i+"['"+e+"'].branchData=[];\n"),a+=i+"['"+e+"'].source=['"+r+"'];\n",_blanket._trackingArraySetup.sort(function(e,t){return parseInt(e,10)>parseInt(t,10)}).forEach(function(t){a+=i+"['"+e+"']["+t+"]=0;\n"}),n&&_blanket._branchingArraySetup.sort(function(e,t){return e.line>t.line}).sort(function(e,t){return e.column>t.column}).forEach(function(t){t.file===e&&(a+="if (typeof "+i+"['"+e+"'].branchData["+t.line+"] === 'undefined'){\n",a+=i+"['"+e+"'].branchData["+t.line+"]=[];\n",a+="}",a+=i+"['"+e+"'].branchData["+t.line+"]["+t.column+"] = [];\n",a+=i+"['"+e+"'].branchData["+t.line+"]["+t.column+"].consequent = "+JSON.stringify(t.consequent)+";\n",a+=i+"['"+e+"'].branchData["+t.line+"]["+t.column+"].alternate = "+JSON.stringify(t.alternate)+";\n")}),a+="}"},_blockifyIf:function(e){if(n.indexOf(e.type)>-1){var t=e.consequent||e.body,r=e.alternate;r&&"BlockStatement"!==r.type&&r.update("{\n"+r.source()+"}\n"),t&&"BlockStatement"!==t.type&&t.update("{\n"+t.source()+"}\n")}},_trackBranch:function(e,t){var n=e.loc.start.line,r=e.loc.start.column;_blanket._branchingArraySetup.push({line:n,column:r,file:t,consequent:e.consequent.loc,alternate:e.alternate.loc});var a=e.source(),i="_$branchFcn('"+t+"',"+n+","+r+","+a.slice(0,a.indexOf("?"))+")"+a.slice(a.indexOf("?"));e.update(i)},_addTracking:function(e){var n=_blanket.getCovVar();return function(r){if(_blanket._blockifyIf(r),t.indexOf(r.type)>-1&&"LabeledStatement"!==r.parent.type){if(_blanket._checkDefs(r,e),"VariableDeclaration"===r.type&&("ForStatement"===r.parent.type||"ForInStatement"===r.parent.type))return;if(!r.loc||!r.loc.start)throw new Error("The instrumenter encountered a node with no location: "+Object.keys(r));r.update(n+"['"+e+"']["+r.loc.start.line+"]++;\n"+r.source()),_blanket._trackingArraySetup.push(r.loc.start.line)}else _blanket.options("branchTracking")&&"ConditionalExpression"===r.type&&_blanket._trackBranch(r,e)}},_checkDefs:function(e,t){if(inBrowser){if("VariableDeclaration"===e.type&&e.declarations&&e.declarations.forEach(function(n){if("window"===n.id.name)throw new Error("Instrumentation error, you cannot redefine the 'window' variable in  "+t+":"+e.loc.start.line)}),"FunctionDeclaration"===e.type&&e.params&&e.params.forEach(function(n){if("window"===n.name)throw new Error("Instrumentation error, you cannot redefine the 'window' variable in  "+t+":"+e.loc.start.line)}),"ExpressionStatement"===e.type&&e.expression&&e.expression.left&&e.expression.left.object&&e.expression.left.property&&e.expression.left.object.name+"."+e.expression.left.property.name===_blanket.getCovVar())throw new Error("Instrumentation error, you cannot redefine the coverage variable in  "+t+":"+e.loc.start.line)}else if("ExpressionStatement"===e.type&&e.expression&&e.expression.left&&!e.expression.left.object&&!e.expression.left.property&&e.expression.left.name===_blanket.getCovVar())throw new Error("Instrumentation error, you cannot redefine the coverage variable in  "+t+":"+e.loc.start.line)},setupCoverage:function(){a.instrumentation="blanket",a.stats={suites:0,tests:0,passes:0,pending:0,failures:0,start:new Date}},_checkIfSetup:function(){if(!a.stats)throw new Error("You must call blanket.setupCoverage() first.")},onTestStart:function(){_blanket.options("debug")&&console.log("BLANKET-Test event started"),this._checkIfSetup(),a.stats.tests++,a.stats.pending++},onTestDone:function(e,t){this._checkIfSetup(),t===e?a.stats.passes++:a.stats.failures++,a.stats.pending--},onModuleStart:function(){this._checkIfSetup(),a.stats.suites++},onTestsDone:function(){_blanket.options("debug")&&console.log("BLANKET-Test event done"),this._checkIfSetup(),a.stats.end=new Date,inBrowser?this.report(a):(_blanket.options("branchTracking")||delete(inBrowser?window:global)[_blanket.getCovVar()].branchFcn,this.options("reporter").call(this,a))}}}(),function(e){var t=e.options;e.extend({outstandingRequireFiles:[],options:function(n,r){var a={};if("string"!=typeof n)t(n),a=n;else{if("undefined"==typeof r)return t(n);t(n,r),a[n]=r}a.adapter&&e._loadFile(a.adapter),a.loader&&e._loadFile(a.loader)},requiringFile:function(t,n){"undefined"==typeof t?e.outstandingRequireFiles=[]:"undefined"==typeof n?e.outstandingRequireFiles.push(t):e.outstandingRequireFiles.splice(e.outstandingRequireFiles.indexOf(t),1)},requireFilesLoaded:function(){return 0===e.outstandingRequireFiles.length},showManualLoader:function(){if(!document.getElementById("blanketLoaderDialog")){var e="<div class='blanketDialogOverlay'>";e+="&nbsp;</div>",e+="<div class='blanketDialogVerticalOffset'>",e+="<div class='blanketDialogBox'>",e+="<b>Error:</b> Blanket.js encountered a cross origin request error while instrumenting the source files.  ",e+="<br><br>This is likely caused by the source files being referenced locally (using the file:// protocol). ",e+="<br><br>Some solutions include <a href='http://askubuntu.com/questions/160245/making-google-chrome-option-allow-file-access-from-files-permanent' target='_blank'>starting Chrome with special flags</a>, <a target='_blank' href='https://github.com/remy/servedir'>running a server locally</a>, or using a browser without these CORS restrictions (Safari).",e+="<br>","undefined"!=typeof FileReader&&(e+="<br>Or, try the experimental loader.  When prompted, simply click on the directory containing all the source files you want covered.",e+="<a href='javascript:document.getElementById(\"fileInput\").click();'>Start Loader</a>",e+="<input type='file' type='application/x-javascript' accept='application/x-javascript' webkitdirectory id='fileInput' multiple onchange='window.blanket.manualFileLoader(this.files)' style='visibility:hidden;position:absolute;top:-50;left:-50'/>"),e+="<br><span style='float:right;cursor:pointer;'  onclick=document.getElementById('blanketLoaderDialog').style.display='none';>Close</span>",e+="<div style='clear:both'></div>",e+="</div></div>";var t=".blanketDialogWrapper {";t+="display:block;",t+="position:fixed;",t+="z-index:40001; }",t+=".blanketDialogOverlay {",t+="position:fixed;",t+="width:100%;",t+="height:100%;",t+="background-color:black;",t+="opacity:.5; ",t+="-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=50)'; ",t+="filter:alpha(opacity=50); ",t+="z-index:40001; }",t+=".blanketDialogVerticalOffset { ",t+="position:fixed;",t+="top:30%;",t+="width:100%;",t+="z-index:40002; }",t+=".blanketDialogBox { ",t+="width:405px; ",t+="position:relative;",t+="margin:0 auto;",t+="background-color:white;",t+="padding:10px;",t+="border:1px solid black; }";var n=document.createElement("style");n.innerHTML=t,document.head.appendChild(n);var r=document.createElement("div");r.id="blanketLoaderDialog",r.className="blanketDialogWrapper",r.innerHTML=e,document.body.insertBefore(r,document.body.firstChild)}},manualFileLoader:function(e){function t(e){var t=new FileReader;t.onload=o,t.readAsText(e)}var n=Array.prototype.slice;e=n.call(e).filter(function(e){return""!==e.type});var r=e.length-1,a=0,i={};sessionStorage.blanketSessionLoader&&(i=JSON.parse(sessionStorage.blanketSessionLoader));var o=function(n){var o=n.currentTarget.result,l=e[a],s=l.webkitRelativePath&&""!==l.webkitRelativePath?l.webkitRelativePath:l.name;i[s]=o,a++,a===r?(sessionStorage.setItem("blanketSessionLoader",JSON.stringify(i)),document.location.reload()):t(e[a])};t(e[a])},_loadFile:function(t){if("undefined"!=typeof t){var n=new XMLHttpRequest;n.open("GET",t,!1),n.send(),e._addScript(n.responseText)}},_addScript:function(e){var t=document.createElement("script");t.type="text/javascript",t.text=e,(document.body||document.getElementsByTagName("head")[0]).appendChild(t)},hasAdapter:function(){return null!==e.options("adapter")},report:function(t){document.getElementById("blanketLoaderDialog")||(e.blanketSession=null),t.files=window._$blanket;blanket.options("commonJS")?blanket._commonjs.require:window.require;if(!t.files||!Object.keys(t.files).length)return void(e.options("debug")&&console.log("BLANKET-Reporting No files were instrumented."));if("undefined"!=typeof t.files.branchFcn&&delete t.files.branchFcn,"string"==typeof e.options("reporter"))e._loadFile(e.options("reporter")),e.customReporter(t,e.options("reporter_options"));else if("function"==typeof e.options("reporter"))e.options("reporter")(t);else{if("function"!=typeof e.defaultReporter)throw new Error("no reporter defined.");e.defaultReporter(t)}},_bindStartTestRunner:function(e,t){e?e(t):window.addEventListener("load",t,!1)},_loadSourceFiles:function(t){blanket.options("commonJS")?blanket._commonjs.require:window.require;e.options("debug")&&console.log("BLANKET-Collecting page scripts");var n=e.utils.collectPageScripts();if(0===n.length)t();else{sessionStorage.blanketSessionLoader&&(e.blanketSession=JSON.parse(sessionStorage.blanketSessionLoader)),n.forEach(function(t){e.utils.cache[t+".js"]={loaded:!1}});var r=-1;e.utils.loadAll(function(e){return e?"undefined"!=typeof n[r+1]:(r++,r>=n.length?null:n[r]+".js")},t)}},beforeStartTestRunner:function(t){t=t||{},t.checkRequirejs="undefined"==typeof t.checkRequirejs?!0:t.checkRequirejs,t.callback=t.callback||function(){},t.coverage="undefined"==typeof t.coverage?!0:t.coverage,t.coverage?e._bindStartTestRunner(t.bindEvent,function(){e._loadSourceFiles(function(){var n=function(){return t.condition?t.condition():e.requireFilesLoaded()},r=function(){if(n()){e.options("debug")&&console.log("BLANKET-All files loaded, init start test runner callback.");var a=e.options("testReadyCallback");a?"function"==typeof a?a(t.callback):"string"==typeof a&&(e._addScript(a),t.callback()):t.callback()}else setTimeout(r,13)};r()})}):t.callback()},utils:{qualifyURL:function(e){var t=document.createElement("a");return t.href=e,t.href}}})}(blanket),function(){if(!mocha)throw new Exception("mocha library does not exist in global namespace!");var e=mocha._reporter,t=function(t){t.on("start",function(){blanket.setupCoverage()}),t.on("end",function(){blanket.onTestsDone()}),t.on("suite",function(){blanket.onModuleStart()}),t.on("test",function(){blanket.onTestStart()}),t.on("test end",function(e){blanket.onTestDone(e.parent.tests.length,"passed"===e.state)}),t.globals(["stats","failures","runner"]),new e(t)};mocha.reporter(t);var n=mocha.run,r=null;mocha.run=function(e){r=e,console.log("waiting for blanket...")},blanket.beforeStartTestRunner({callback:function(){n(r),mocha.run=n}})}(),blanket.defaultReporter=function(e){function t(e){var t=document.getElementById(e);t.style.display="block"===t.style.display?"none":"block"}function n(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")}function r(e,t){var n=t?0:1;return"undefined"==typeof e||null===typeof e||"undefined"==typeof e[n]?!1:e[n].length>0}function a(e,t,i,o,l){var s="",c="";if(y.length>0)if(s+="<span class='"+(r(y[0][1],y[0][1].consequent===y[0][0])?"branchOkay":"branchWarning")+"'>",y[0][0].end.line===l){if(s+=n(t.slice(0,y[0][0].end.column))+"</span>",t=t.slice(y[0][0].end.column),y.shift(),y.length>0)if(s+="<span class='"+(r(y[0][1],!1)?"branchOkay":"branchWarning")+"'>",y[0][0].end.line===l){if(s+=n(t.slice(0,y[0][0].end.column))+"</span>",t=t.slice(y[0][0].end.column),y.shift(),!i)return{src:s+n(t),cols:i}}else{if(!i)return{src:s+n(t)+"</span>",cols:i};c="</span>"}else if(!i)return{src:s+n(t),cols:i}}else{if(!i)return{src:s+n(t)+"</span>",cols:i};c="</span>"}var u=i[e],p=u.consequent;if(p.start.line>l)y.unshift([u.alternate,u]),y.unshift([p,u]),t=n(t);else{var f="<span class='"+(r(u,!0)?"branchOkay":"branchWarning")+"'>";if(s+=n(t.slice(0,p.start.column-o))+f,i.length>e+1&&i[e+1].consequent.start.line===l&&i[e+1].consequent.start.column-o<i[e].consequent.end.column-o){var d=a(e+1,t.slice(p.start.column-o,p.end.column-o),i,p.start.column-o,l);s+=d.src,i=d.cols,i[e+1]=i[e+2],i.length--}else s+=n(t.slice(p.start.column-o,p.end.column-o));s+="</span>";var m=u.alternate;if(m.start.line>l)s+=n(t.slice(p.end.column-o)),y.unshift([m,u]);else{if(s+=n(t.slice(p.end.column-o,m.start.column-o)),f="<span class='"+(r(u,!1)?"branchOkay":"branchWarning")+"'>",s+=f,i.length>e+1&&i[e+1].consequent.start.line===l&&i[e+1].consequent.start.column-o<i[e].alternate.end.column-o){var g=a(e+1,t.slice(m.start.column-o,m.end.column-o),i,m.start.column-o,l);s+=g.src,i=g.cols,i[e+1]=i[e+2],i.length--}else s+=n(t.slice(m.start.column-o,m.end.column-o));s+="</span>",s+=n(t.slice(m.end.column-o)),t=s}}return{src:t+c,cols:i}}var i="#blanket-main {margin:2px;background:#EEE;color:#333;clear:both;font-family:'Helvetica Neue Light', 'HelveticaNeue-Light', 'Helvetica Neue', Calibri, Helvetica, Arial, sans-serif; font-size:17px;} #blanket-main a {color:#333;text-decoration:none;}  #blanket-main a:hover {text-decoration:underline;} .blanket {margin:0;padding:5px;clear:both;border-bottom: 1px solid #FFFFFF;} .bl-error {color:red;}.bl-success {color:#5E7D00;} .bl-file{width:auto;} .bl-cl{float:left;} .blanket div.rs {margin-left:50px; width:150px; float:right} .bl-nb {padding-right:10px;} #blanket-main a.bl-logo {color: #EB1764;cursor: pointer;font-weight: bold;text-decoration: none} .bl-source{ overflow-x:scroll; background-color: #FFFFFF; border: 1px solid #CBCBCB; color: #363636; margin: 25px 20px; width: 80%;} .bl-source div{white-space: pre;font-family: monospace;} .bl-source > div > span:first-child{background-color: #EAEAEA;color: #949494;display: inline-block;padding: 0 10px;text-align: center;width: 30px;} .bl-source .miss{background-color:#e6c3c7} .bl-source span.branchWarning{color:#000;background-color:yellow;} .bl-source span.branchOkay{color:#000;background-color:transparent;}",o=60,l=document.head,s=0,c=document.body,u=Object.keys(e.files).some(function(t){return"undefined"!=typeof e.files[t].branchData}),p="<div id='blanket-main'><div class='blanket bl-title'><div class='bl-cl bl-file'><a href='http://alex-seville.github.com/blanket/' target='_blank' class='bl-logo'>Blanket.js</a> results</div><div class='bl-cl rs'>Coverage (%)</div><div class='bl-cl rs'>Covered/Total Smts.</div>"+(u?"<div class='bl-cl rs'>Covered/Total Branches</div>":"")+"<div style='clear:both;'></div></div>",f="<div class='blanket {{statusclass}}'><div class='bl-cl bl-file'><span class='bl-nb'>{{fileNumber}}.</span><a href='javascript:blanket_toggleSource(\"file-{{fileNumber}}\")'>{{file}}</a></div><div class='bl-cl rs'>{{percentage}} %</div><div class='bl-cl rs'>{{numberCovered}}/{{totalSmts}}</div>"+(u?"<div class='bl-cl rs'>{{passedBranches}}/{{totalBranches}}</div>":"")+"<div id='file-{{fileNumber}}' class='bl-source' style='display:none;'>{{source}}</div><div style='clear:both;'></div></div>";grandTotalTemplate="<div class='blanket grand-total {{statusclass}}'><div class='bl-cl'>{{rowTitle}}</div><div class='bl-cl rs'>{{percentage}} %</div><div class='bl-cl rs'>{{numberCovered}}/{{totalSmts}}</div>"+(u?"<div class='bl-cl rs'>{{passedBranches}}/{{totalBranches}}</div>":"")+"<div style='clear:both;'></div></div>";var d=document.createElement("script");d.type="text/javascript",d.text=t.toString().replace("function "+t.name,"function blanket_toggleSource"),c.appendChild(d);var m=function(e,t){return Math.round(e/t*100*100)/100},g=function(e,t,n){var r=document.createElement(e);r.innerHTML=n,t.appendChild(r)},y=[],b=function(e){return"undefined"!=typeof e},h=e.files,v={totalSmts:0,numberOfFilesCovered:0,passedBranches:0,totalBranches:0,moduleTotalStatements:{},moduleTotalCoveredStatements:{},moduleTotalBranches:{},moduleTotalCoveredBranches:{}},S=_blanket.options("modulePattern"),x=S?new RegExp(S):null;for(var k in h){s++;var w,E=h[k],L=0,I=0,B=[];for(w=0;w<E.source.length;w+=1){var O=E.source[w];if(y.length>0||"undefined"!=typeof E.branchData)if("undefined"!=typeof E.branchData[w+1]){var A=E.branchData[w+1].filter(b),N=0;O=a(N,O,A,0,w+1).src}else O=y.length?a(0,O,null,0,w+1).src:n(O);else O=n(O);var F="";E[w+1]?(I+=1,L+=1,F="hit"):0===E[w+1]&&(L++,F="miss"),B[w+1]="<div class='"+F+"'><span class=''>"+(w+1)+"</span>"+O+"</div>"}v.totalSmts+=L,v.numberOfFilesCovered+=I;var C=0,T=0;if("undefined"!=typeof E.branchData)for(var D=0;D<E.branchData.length;D++)if("undefined"!=typeof E.branchData[D])for(var P=0;P<E.branchData[D].length;P++)"undefined"!=typeof E.branchData[D][P]&&(C++,"undefined"!=typeof E.branchData[D][P][0]&&E.branchData[D][P][0].length>0&&"undefined"!=typeof E.branchData[D][P][1]&&E.branchData[D][P][1].length>0&&T++);if(v.passedBranches+=T,v.totalBranches+=C,x){var _=k.match(x)[1];v.moduleTotalStatements.hasOwnProperty(_)||(v.moduleTotalStatements[_]=0,v.moduleTotalCoveredStatements[_]=0),v.moduleTotalStatements[_]+=L,v.moduleTotalCoveredStatements[_]+=I,v.moduleTotalBranches.hasOwnProperty(_)||(v.moduleTotalBranches[_]=0,v.moduleTotalCoveredBranches[_]=0),v.moduleTotalBranches[_]+=C,v.moduleTotalCoveredBranches[_]+=T}var R=m(I,L),j=f.replace("{{file}}",k).replace("{{percentage}}",R).replace("{{numberCovered}}",I).replace(/\{\{fileNumber\}\}/g,s).replace("{{totalSmts}}",L).replace("{{totalBranches}}",C).replace("{{passedBranches}}",T).replace("{{source}}",B.join(" "));j=o>R?j.replace("{{statusclass}}","bl-error"):j.replace("{{statusclass}}","bl-success"),p+=j}var q=function(e,t,n,r,a){var i=m(t,e),l=o>i?"bl-error":"bl-success",s=a?"Total for module: "+a:"Global total",c=grandTotalTemplate.replace("{{rowTitle}}",s).replace("{{percentage}}",i).replace("{{numberCovered}}",t).replace("{{totalSmts}}",e).replace("{{passedBranches}}",r).replace("{{totalBranches}}",n).replace("{{statusclass}}",l);p+=c};if(x)for(var U in v.moduleTotalStatements)if(v.moduleTotalStatements.hasOwnProperty(U)){var M=v.moduleTotalStatements[U],V=v.moduleTotalCoveredStatements[U],K=v.moduleTotalBranches[U],W=v.moduleTotalCoveredBranches[U];q(M,V,K,W,U)}q(v.totalSmts,v.numberOfFilesCovered,v.totalBranches,v.passedBranches,null),p+="</div>",g("style",l,i),document.getElementById("blanket-main")?document.getElementById("blanket-main").innerHTML=p.slice(23,-6):g("div",c,p)},define("blanket",["falafel","mocha"],function(e){return function(){var t,n;return n=function(e){var t=window.blanket;return t.parseAndModify=e,t.options("filter","/src/"),t.options("antifilter",'["/test/","/lib/"]'),t},t=n.apply(e,arguments)}}(this)),blanket.options("existingRequireJS",!0),function(e){e.extend({utils:{normalizeBackslashes:function(e){return e.replace(/\\/g,"/")},matchPatternAttribute:function(t,n){if("string"==typeof n){if(0===n.indexOf("[")){var r=n.slice(1,n.length-1).split(",");return r.some(function(n){return e.utils.matchPatternAttribute(t,e.utils.normalizeBackslashes(n.slice(1,-1)))})}if(0===n.indexOf("//")){var a=n.slice(2,n.lastIndexOf("/")),i=n.slice(n.lastIndexOf("/")+1),o=new RegExp(a,i);return o.test(t)}return 0===n.indexOf("#")?window[n.slice(1)].call(window,t):t.indexOf(e.utils.normalizeBackslashes(n))>-1}return n instanceof Array?n.some(function(n){return e.utils.matchPatternAttribute(t,n)}):n instanceof RegExp?n.test(t):"function"==typeof n?n.call(window,t):void 0},blanketEval:function(t){e._addScript(t)},collectPageScripts:function(){var t=Array.prototype.slice,n=(t.call(document.scripts),[]),r=[],a=e.options("filter");if(null!=a){var i=e.options("antifilter");n=t.call(document.scripts).filter(function(n){return 1===t.call(n.attributes).filter(function(t){return"src"===t.nodeName&&e.utils.matchPatternAttribute(t.nodeValue,a)&&("undefined"==typeof i||!e.utils.matchPatternAttribute(t.nodeValue,i))}).length})}else n=t.call(document.querySelectorAll("script[data-cover]"));return r=n.map(function(n){return e.utils.qualifyURL(t.call(n.attributes).filter(function(e){return"src"===e.nodeName})[0].nodeValue).replace(".js","")}),a||e.options("filter","['"+r.join("','")+"']"),r},loadAll:function(t,n){var r=t(),a=e.utils.scriptIsLoaded(r,e.utils.ifOrdered,t,n);if(e.utils.cache[r]&&e.utils.cache[r].loaded)a();else{var i=function(){e.options("debug")&&console.log("BLANKET-Mark script:"+r+", as loaded and move to next script."),a()},o=function(t){e.options("debug")&&console.log("BLANKET-File loading finished"),"undefined"!=typeof t&&(e.options("debug")&&console.log("BLANKET-Add file to DOM."),e._addScript(t)),i()};e.utils.attachScript({url:r},function(t){e.utils.processFile(t,r,o,o)})}},attachScript:function(t,n){var r=e.options("timeout")||3e3;setTimeout(function(){if(!e.utils.cache[t.url].loaded)throw new Error("error loading source script")},r),e.utils.getFile(t.url,n,function(){throw new Error("error loading source script")})},ifOrdered:function(t,n){var r=t(!0);r?e.utils.loadAll(t,n):n(new Error("Error in loading chain."))},scriptIsLoaded:function(t,n,r,a){return e.options("debug")&&console.log("BLANKET-Returning function"),function(){e.options("debug")&&console.log("BLANKET-Marking file as loaded: "+t),e.utils.cache[t].loaded=!0,e.utils.allLoaded()?(e.options("debug")&&console.log("BLANKET-All files loaded"),a()):n&&(e.options("debug")&&console.log("BLANKET-Load next file."),n(r,a))}},cache:{},allLoaded:function(){for(var t=Object.keys(e.utils.cache),n=0;n<t.length;n++)if(!e.utils.cache[t[n]].loaded)return!1;return!0},processFile:function(t,n,r,a){var i=e.options("filter"),o=e.options("antifilter");
"undefined"!=typeof o&&e.utils.matchPatternAttribute(n.replace(/\.js$/,""),o)?(a(t),e.options("debug")&&console.log("BLANKET-File will never be instrumented:"+n),e.requiringFile(n,!0)):e.utils.matchPatternAttribute(n.replace(/\.js$/,""),i)?(e.options("debug")&&console.log("BLANKET-Attempting instrument of:"+n),e.instrument({inputFile:t,inputFileName:n},function(a){try{e.options("debug")&&console.log("BLANKET-instrument of:"+n+" was successfull."),e.utils.blanketEval(a),r(),e.requiringFile(n,!0)}catch(i){if(!e.options("ignoreScriptError"))throw new Error("Error parsing instrumented code: "+i);e.options("debug")&&console.log("BLANKET-There was an error loading the file:"+n),r(t),e.requiringFile(n,!0)}})):(e.options("debug")&&console.log("BLANKET-Loading (without instrumenting) the file:"+n),a(t),e.requiringFile(n,!0))},createXhr:function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=progIds[t];try{e=new ActiveXObject(n)}catch(r){}if(e){progIds=[n];break}}return e},getFile:function(t,n,r,a){var i=!1;if(e.blanketSession)for(var o=Object.keys(e.blanketSession),l=0;l<o.length;l++){var s=o[l];if(t.indexOf(s)>-1)return n(e.blanketSession[s]),void(i=!0)}if(!i){var c=e.utils.createXhr();c.open("GET",t,!0),a&&a(c,t),c.onreadystatechange=function(){var e,a;4===c.readyState&&(e=c.status,e>399&&600>e?(a=new Error(t+" HTTP status: "+e),a.xhr=c,r(a)):n(c.responseText))};try{c.send(null)}catch(u){if(!u.code||101!==u.code&&1012!==u.code||e.options("ignoreCors")!==!1)throw u;e.showManualLoader()}}}}}),function(){var t=(blanket.options("commonJS")?blanket._commonjs.require:window.require,blanket.options("commonJS")?blanket._commonjs.requirejs:window.requirejs);!e.options("engineOnly")&&e.options("existingRequireJS")&&(e.utils.oldloader=t.load,t.load=function(t,n,r){e.requiringFile(r),e.utils.getFile(r,function(a){e.utils.processFile(a,r,function(){t.completeLoad(n)},function(){e.utils.oldloader(t,n,r)})},function(t){throw e.requiringFile(),t})})}()}(blanket),define("blanket-require",function(){}),define("thehelp-test-coverage",["thehelp-test","falafel","blanket","blanket-require"],function(e,t,n,r){return{falafel:t,blanket:n,blanketRequire:r}});
//# sourceMappingURL=thehelp-test-coverage.min.js.map